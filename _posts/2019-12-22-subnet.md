---
title:  "서브넷이란"
search: true
categories: 
  - Network
---

## 서브넷
서브넷이란 할당받은 클래스내의 IP에서 호스트를 분배하기 위해 분할하는 방식이다.
예를 들어 클래스 A의 호스트를 할당해줘햐하는 업무를 맡았다고 치자 
할당할 수 있는 총 호스트는 16,772,214대이다. 그 중 800만대를 할당해야 한다면 
그것을 일일이 하기란 쉽지가 않다. 왜냐하면 어떤 주소가 6835234번이라 하면 직관적으로 어디인지 알기 쉽지않다. 
커다란 네트워크안에 몇 개의 네트워크로 작게 분할하는 서브넷을 사용하면 위 문제를 더 쉽게 해결할 수 있다.
단 IP주소(여기서는 IPv4)는 32비트로 고정 되어 있기에 새롭게 서브넷 번호를 추가하는 것은 불가능하다. 그래서 호스트 번호의 비트를 서브넷 번호와 호스트 번호로 분할한다. 
예를 들어 클래스B 네트워크의 172.168.0.0이 있다고 치면 호스트 번호인 16비트를 서브넷 6비트와 호스트 번호 10비트로 분할하면 172.168.4.1 로 서브넷 1의 호스트 1인 주소이다(이진법). 
그리고 중요하게 알아야 할 사실 중 하나로 서브넷의 숫자를 크게하면 서브넷의 호스트수는 감소한다.
외부에서 봤을 때 네트워크 주소만 알면된다. 서브넷은 내부에서만 확인하면 되는데 문제가 하나 있다.
컴퓨터가 어느 네트워크에 소속되어 있는가라는 문제가 생긴다. 클래스풀 어드레싱으로 어디까지 네트워크인지는 파악이 가능하지만 서브넷은 파악이 안된다.
그리하여 생겨난게 서브넷 마스크이다. 서브넷마스크는 IP 어디까지가 서브넷 번호인지를 나타내는데 IP주소와 같은 32비트이고 네트워크 번호와 서브넷 번호의 비트를 모두 1로 표시하고 호스트 번호를 0으로 표시한다.
클래스 C 의 네트워크는 24비트이고 디폴트 서브넷 마스크는 255.255.255.0(1111 1111. 1111 1111. 1111 1111.0000 0000) 으로 표시한다.

### 클래스풀과 클래스리스 비교
서브넷을 나누는 기준으로는 크게 클래스 풀과 클래스리스가 있다.
클래스 풀은 8비트 단위로 등급을 나누는데 클래스 A는 8비트를 네트워크로 사용하고 클래스 B는 16비트
C는 25비트를 사용한다. 자세한 사항은 'IP adress'라는 제목으로 올렸던 글을 참조하면 된다. [IP] [1]
반면에 클래스 리스는 1비트로 나뉜다. 표기 방법은 IP주소 맨 마지막에 "/숫자" 를 추가한다. 
예를 들어 
192.168.0.0/1은 0.0.0.0 부터 255.255.255.255까지 2,147,483,648개의 호스트를 사용 가능하며
192.168.0.0/2은 192.0.0.0 ~ 255.255.255.255 범위와 1,073,741,824 개의 호스트가 사용 가능하다.
192.168.0.0/3은 192.0.0.0 ~ 223.255.255.255 범위와 536,870,912 개의 호스트가 사용 가능하다.

/a 에서 a비트를 고정하되 호스트를 모두 0에서 모두 1까지의 경우의 수가 곧 호스트 수이다.

클라우드(AWS)에서 서브넷내에서 네트워크 그룹과 호스트를 나눌때 네트워크 경우의 수를 신중하게 정해야 한다.
예를 들어 192.168.0.0./16에서 서브넷 네트워크의 경우의 수를 2로 할 경우 /17로 경우의 수가 4일경우 18, 8일 경우 19등으로 경우의수가 2^x와 일치할겨우 x수 만큼 '/서브넷'에 더하기를 하면된다. 그리고 '/서브넷' 비트 이전의 수를 변경해서 서브넷을 추가하면 된다.

 
[1]: https://myeongjang.github.io/network/IP